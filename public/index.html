<!DOCTYPE HTML>
<html>
	<head>
		<title>金勾杯股份有限公司</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<span class="icon fa-gem"></span>
						</div>
						<div class="content">
							<div class="inner">
								<h1>宇宙首創！</h1>
								<h3>這是可以提的「環保杯」!</h3>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#intro">介紹</a></li>
								<li><a href="#work">關於我們</a></li>
								<li><a href="#contact">訂購</a></li>
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Intro -->
							<article id="intro">
								<h2 class="major">介紹</h2>
								<p>高透明、清晰，可以清楚看見杯子內的配料，可承受拉力為8公斤！！拿著飲料怎麼甩怎麼跑都不會斷，且耐高溫120°C</p>
							</article>

						<!-- Work -->
							<article id="work">
								<h2 class="major">關於我們</h2>
								<!--<span class="image main"><img src="images/pic02.jpg" alt="" /></span>-->
								<p>本公司（金勾杯股份有限公司）為皇盃國際塑膠廠的總代理商，
									雖然本公司上市未達１年，但本公司保持著以客至上、客為優先的態度在營運，所以客戶可以完全的放心交給我們！
									我們的金勾杯為前所未見得新開發產品，
									專利擁有者在２０２１年的某一天，在等紅燈的途中，看了一下飲料店擁有美貌的飲料店服務員，正在欣賞的途中，突然看到了正在買飲料的客人買了袋子準備裝飲料，頓時腦海中浮出了「為何不在飲料杯上多做一個提環，店家、客人都方便且還環保！！」於是專利擁有者開始動身，經過了許多挫折、壓力、測試、意見不合等，
									於是，燈愣～「金勾杯」就誕生了。</p>
							</article>

						<!-- About -->
							<article id="about">
								<h2 class="major">About</h2>
								<span class="image main"><img src="images/pic03.jpg" alt="" /></span>
								<p>Lorem ipsum dolor sit amet, consectetur et adipiscing elit. Praesent eleifend dignissim arcu, at eleifend sapien imperdiet ac. Aliquam erat volutpat. Praesent urna nisi, fringila lorem et vehicula lacinia quam. Integer sollicitudin mauris nec lorem luctus ultrices. Aliquam libero et malesuada fames ac ante ipsum primis in faucibus. Cras viverra ligula sit amet ex mollis mattis lorem ipsum dolor sit amet.</p>
							</article>

						<!-- Contact -->
							<article id="contact">
								<h2 class="major">訂購</h2>
								<div class="fields">
									<div class="field">
										<label id="name_label">姓名</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label id="address_label">運送地址</label>
										<input type="text" name="address" id="address" />
									</div>
									<div class="field">
										<label id="phone">電話</label>
										<input type="text" name="phone" id="phone" />
									</div>
									<div class="field">
										<label id="size_label">欲訂購尺寸</label>
										<select id = "size" placeholder = "尺寸">
											<option value = -1 selected disabled>請選擇尺寸</option>
										</select>
									</div>
									<div class="field">
										<label for="amount_label">欲訂購的箱數(1000杯/箱)</label>
										<input type="text" name="amount" id="amount" />
									</div>
									<div class="field">
										<label for="seller_label">業務員</label>
										<select id = "seller" placeholder = "業務">
											<option value = -1 selected disabled>請選擇業務員名稱</option>
											<option value = -1 >無</option>
											</select>
									</div>
								</div>
								<ul class="actions">
									<li><a class="button primary" onclick = "send_order()">Default</a></li>
								</ul>
							</article>
					</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright"></p>
					</footer>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
				const APIUrl = "https://admin.ian-shen.live"
				var dataJSON = {};
				function send_order(){
					var data_missing = 0;
					dataJSON["name"] = $("#name").val();
					dataJSON["address"] = $("#address").val();
					dataJSON["phone"] = $("#phone").val();
					dataJSON["size"] = $("#size").val();
					dataJSON["amount"] = $("#amount").val();
					dataJSON["seller"] = $("#seller").val();
					console.log(dataJSON["seller"]);
					$.each(dataJSON, function(index, value){
					if ((value == "") || (value == null)){
						console.log(index + ":" + value);
						$("#" + index + "_label").text($("#" + index + "_label").text() + "資料缺少 請確認完整後在送出！");
						$("#" + index + "_label").css("color", 'red');
						data_missing = 1;
						return false;
					}
					});
					if (data_missing == 0){
						$.ajax({
						url: "https://admin.ian-shen.live/order/add",
						data: JSON.stringify(dataJSON),
						type: "POST",
						dataType: "json",
						contentType: "application/json;charset=utf-8",
						success: function(returnData){
							alert("Success");
						},
						error: function(xhr, ajaxOptions, thrownError){
							alert("failed!");
						}
						});
					}else{
						alert();
					}
				}
				$.ajax({
					url: APIUrl + "/frontend/product",
					type: "POST",
					contentType: "application/json;charset=utf-8",
					dataType:"json",
					success: function(select_data){
					$.each(select_data, function(index, data){
						$('#size').append($('<option>', {value: data["size"],text: data["size"]}));
					});
					}
				});
				$.ajax({
					url: APIUrl + "/frontend/seller",
					type: "POST",
					contentType: "application/json;charset=utf-8",
					dataType:"json",
					success: function(select_data){
					$.each(select_data, function(index, data){
						$('#seller').append($('<option>', {value: data["id"],text: data["name"]}));
					});
					}
				});
			</script>
	</body>
</html>
